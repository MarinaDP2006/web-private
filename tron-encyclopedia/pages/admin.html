<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - TRON Encyclopedia</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Panel de administración para CRUD y estadísticas (solo usuario ADMIN) -->
    <div class="admin-container">
        <!-- Sidebar de navegación -->
        <aside class="admin-sidebar">
            <div class="admin-logo">TRON ADMIN</div>
            <ul class="admin-nav">
                <li><a href="#dashboard" class="admin-nav-link active" data-section="dashboard">Dashboard</a></li>
                <li><a href="#enciclopedia" class="admin-nav-link" data-section="enciclopedia">Enciclopedia</a></li>
                <li><a href="#escape-room" class="admin-nav-link" data-section="escape-room">Escape Room</a></li>
                <li><a href="#usuarios" class="admin-nav-link" data-section="usuarios">Usuarios</a></li>
                <li><a href="#galeria" class="admin-nav-link" data-section="galeria">Galería</a></li>
                <li><a href="#estadisticas" class="admin-nav-link" data-section="estadisticas">Estadísticas</a></li>
                <li><a href="#configuracion" class="admin-nav-link" data-section="configuracion">Configuración</a></li>
            </ul>
        </aside>
        <!-- Contenido principal -->
        <main class="admin-main">
            <!-- Header del admin -->
            <header class="admin-header">
                <h1 class="admin-title" id="section-title">Dashboard</h1>
                <div class="admin-user">
                    <span>Administrador</span>
                    <button class="logout-btn" id="logoutBtn">Cerrar Sesión</button>
                </div>
            </header>
            <!-- Sección Dashboard -->
            <section id="dashboard" class="admin-section active">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-users">0</div>
                        <div class="stat-label">Usuarios Registrados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-content">0</div>
                        <div class="stat-label">Artículos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="escape-plays">0</div>
                        <div class="stat-label">Partidas Escape Room</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="active-now">0</div>
                        <div class="stat-label">Usuarios Activos</div>
                    </div>
                </div>
                <div class="recent-activity">
                    <h3>Actividad Reciente</h3>
                    <div class="activity-list" id="activity-list">
                        <!-- La actividad se cargará dinámicamente -->
                    </div>
                </div>
            </section>
            <!-- Sección Enciclopedia -->
            <section id="enciclopedia" class="admin-section">
                <h2 class="section-title">Gestión de Enciclopedia</h2>
                <!-- Formulario para añadir/editar contenido -->
                <div class="form-container">
                    <form id="enciclopedia-form" class="admin-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Película</label>
                                <select class="form-select" id="pelicula-select" required>
                                    <option value="">Seleccionar película</option>
                                    <option value="tron-1982">TRON (1982)</option>
                                    <option value="tron-legacy">TRON: Legacy</option>
                                    <option value="tron-ares">TRON: Ares</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Categoría</label>
                                <select class="form-select" id="categoria-select" required>
                                    <option value="">Seleccionar categoría</option>
                                    <option value="personajes">Personajes</option>
                                    <option value="tecnologia">Tecnología</option>
                                    <option value="localizaciones">Localizaciones</option>
                                    <option value="historia">Historia</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label class="form-label">Título</label>
                                <input type="text" class="form-input" id="titulo-input" required>
                            </div>
                            <div class="form-group full-width">
                                <label class="form-label">Descripción</label>
                                <textarea class="form-textarea" id="descripcion-textarea" required></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Imagen URL</label>
                                <input type="url" class="form-input" id="imagen-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Estado</label>
                                <select class="form-select" id="estado-select">
                                    <option value="publicado">Publicado</option>
                                    <option value="borrador">Borrador</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Guardar Artículo</button>
                            <button type="button" class="btn btn-secondary" id="reset-form">Limpiar Formulario</button>
                        </div>
                    </form>
                </div>
            </section>
            <!-- Sección Escape Room -->
            <section id="escape-room" class="admin-section">
                <h2 class="section-title">Gestión de Escape Room</h2>
                <!-- Formulario para preguntas del escape room -->
                <div class="form-container">
                    <form id="escape-form" class="admin-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Nivel</label>
                                <select class="form-select" id="nivel-select" required>
                                    <option value="">Seleccionar nivel</option>
                                    <option value="1">Nivel 1 - Principiante</option>
                                    <option value="2">Nivel 2 - Intermedio</option>
                                    <option value="3">Nivel 3 - Avanzado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tipo de Pregunta</label>
                                <select class="form-select" id="tipo-pregunta-select" required>
                                    <option value="">Seleccionar tipo</option>
                                    <option value="multiple">Opción Múltiple</option>
                                    <option value="texto">Texto Libre</option>
                                    <option value="codigo">Código</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label class="form-label">Pregunta</label>
                                <textarea class="form-textarea" id="pregunta-textarea" required></textarea>
                            </div>
                            <div class="form-group full-width" id="opciones-container">
                                <!-- Se mostrarán dinámicamente según el tipo de pregunta -->
                            </div>
                            <div class="form-group">
                                <label class="form-label">Puntos</label>
                                <input type="number" class="form-input" id="puntos-input" min="1" max="100" value="10">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tiempo Límite (segundos)</label>
                                <input type="number" class="form-input" id="tiempo-input" min="30" max="300" value="60">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Guardar Pregunta</button>
                            <button type="button" class="btn btn-secondary" id="reset-escape-form">Nueva Pregunta</button>
                        </div>
                    </form>
                </div>
                <!-- Lista de preguntas existentes -->
                <div class="questions-list">
                    <h3>Preguntas del Escape Room</h3>
                    <div class="questions-table-container">
                        <table class="admin-table" id="questions-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Pregunta</th>
                                    <th>Nivel</th>
                                    <th>Tipo</th>
                                    <th>Puntos</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="questions-tbody">
                                <!-- Las preguntas se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            <!-- Sección Usuarios -->
            <section id="usuarios" class="admin-section">
                <h2 class="section-title">Gestión de Usuarios</h2>
                <div class="users-table-container">
                    <table class="admin-table" id="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Usuario</th>
                                <th>Email</th>
                                <th>Registro</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="users-tbody">
                            <!-- Los usuarios se cargarán dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </section>
            <!-- Sección Galería -->
            <section id="galeria" class="admin-section">
                <h2 class="section-title">Gestión de Galería</h2>
                <div class="upload-area">
                    <div class="upload-box" id="upload-box">
                        <span>Arrastra imágenes aquí o haz clic para seleccionar</span>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                    </div>
                </div>
                <div class="gallery-grid" id="gallery-container">
                    <!-- Las imágenes se cargarán dinámicamente -->
                </div>
            </section>
            <!-- Sección Estadísticas -->
            <section id="estadisticas" class="admin-section">
                <h2 class="section-title">Estadísticas</h2>
                <div class="stats-grid">
                    <div class="stat-chart">
                        <h3>Usuarios por Mes</h3>
                        <canvas id="users-chart"></canvas>
                    </div>
                    <div class="stat-chart">
                        <h3>Contenido por Categoría</h3>
                        <canvas id="content-chart"></canvas>
                    </div>
                    <div class="stat-chart">
                        <h3>Actividad del Escape Room</h3>
                        <canvas id="escape-chart"></canvas>
                    </div>
                </div>
            </section>
            <!-- Sección Configuración -->
            <section id="configuracion" class="admin-section">
                <h2 class="section-title">Configuración del Sistema</h2>
                <form id="settings-form" class="admin-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Clave de Acceso</label>
                            <input type="text" class="form-input" id="access-key" value="universeEnter">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mantenimiento</label>
                            <select class="form-select" id="maintenance-mode">
                                <option value="false">Desactivado</option>
                                <option value="true">Activado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Registro de Usuarios</label>
                            <select class="form-select" id="user-registration">
                                <option value="true">Permitido</option>
                                <option value="false">No Permitido</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Escape Room</label>
                            <select class="form-select" id="escape-room-access">
                                <option value="all">Todos los usuarios</option>
                                <option value="registered">Solo registrados</option>
                                <option value="none">Nadie</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                    </div>
                </form>
            </section>
        </main>
    </div>
    <!-- Modal para confirmaciones -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h3 id="modal-title">Confirmar Acción</h3>
            <p id="modal-message">¿Estás seguro de que quieres realizar esta acción?</p>
            <div class="modal-actions">
                <button id="modal-confirm" class="btn btn-danger">Confirmar</button>
                <button id="modal-cancel" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>
    <script src="admin.js"></script>
</body>
</html>