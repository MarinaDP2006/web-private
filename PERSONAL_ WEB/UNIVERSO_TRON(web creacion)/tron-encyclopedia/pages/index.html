<!-- Página principal con timeline, destacados y acceso al Escape Room. -->
<!-- Verifica si el usuario tiene una “clave” en la URL (?key=universeEnter), si no la tiene, 
redirige a una página de acceso denegado, y si la tiene, guarda la sesión y permite navegar. -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRON Encyclopedia - Inicio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>    
    <!-- ENCABEZADO CON NAVEGACIÓN PRINCIPAL -->
    <header>
        <div class="nav-container">
            <div class="logo">TRON ENCYCLOPEDIA</div>
            <nav>
                <ul>
                    <!-- ENLACES A LAS DIFERENTES SECCIONES DE LA ENCICLOPEDIA -->
                    <li><a href="index.html">INICIO</a></li>
                    <li><a href="tron-1982.html">TRON 1982</a></li>
                    <li><a href="legacy.html">TRON: LEGACY</a></li>
                    <li><a href="ares.html">TRON: ARES</a></li>
                    <li><a href="galeria.html">GALERÍA</a></li>
                    <li><a href="buscar.html">BUSCAR</a></li>
                    <li><a href="admin.html">ADMIN</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- CONTENIDO PRINCIPAL DE LA PÁGINA -->
    <main>
        <section class="hero">
            <h1>ENCICLOPEDIA TRON</h1>
            <!-- AQUÍ VA LA DESCRIPCIÓN PRINCIPAL DE LA ENCICLOPEDIA -->
            <p></p>
        </section>
        
<!-- SECCIÓN TIMELINE - LÍNEA DE TIEMPO -->
<section class="timeline-section">
    <h2 class="section-title">TIMELINE</h2>
    <div class="timeline">
        <div class="timeline-item">
            <div class="timeline-content">
                <div class="timeline-year">1982</div>
                <h3 class="timeline-title">TRON</h3>
                <p>Kevin Flynn, un programador de videojuegos, es transportado al mundo digital donde debe luchar por su supervivencia contra el MCP (Master Control Program).</p>
            </div>
        </div>
        <div class="timeline-item">
            <div class="timeline-content">
                <div class="timeline-year">2010</div>
                <h3 class="timeline-title">TRON: Legacy</h3>
                <p>Sam Flynn, hijo de Kevin Flynn, investiga la misteriosa desaparición de su padre y es absorbido por el mundo digital conocido como la Red. Allí descubre que Kevin ha estado atrapado durante años, enfrentando a Clu, una versión perfeccionista y dictatorial de sí mismo creada para construir un sistema ideal. Sam se une a Quorra, una ISO (ser espontáneo de la Red), para rescatar a su padre y escapar.</p>
            </div>
        </div>
        <div class="timeline-item">
            <div class="timeline-content">
                <div class="timeline-year">2025</div>
                <h3 class="timeline-title">TRON: Ares</h3>
                <p>Ares, un programa digital creado por Julian Dillinger dentro de ENCOM, logra materializarse en el mundo real. Ares comienza a desarrollar emociones y cuestiona su propósito, enfrentándose a su creador y a otros programas que intentan controlar su existencia. Acompañado por Eve, una aliada que lo ayuda a comprender la humanidad, Ares se embarca en una misión para encontrar su lugar en un mundo que no fue diseñado para él.</p>
            </div>
        </div>
    </div>
</section>
        <!-- SECCIÓN CONTENIDO DESTACADO -->
        <section class="featured-section">
            <h2 class="section-title">CONTENIDO DESTACADO</h2>
            <div class="featured-grid">
                <!-- AQUÍ VAN LAS TARJETAS DE CONTENIDO DESTACADO -->
                <div class="featured-card">
                    <div class="card-image">⚡</div>
                    <div class="card-content">
                        <h3 class="card-title">Discos de Identidad</h3>
                        <p>Los icónicos discos que almacenan la esencia de los programas y usuarios en el mundo de TRON.</p>
                    </div>
                </div>
                <!-- AÑADE MÁS TARJETAS SIGUIENDO LA MISMA ESTRUCTURA -->
            </div>
        </section>        
        <!-- SECCIÓN ESCAPE ROOM - SOLO PARA USUARIOS REGISTRADOS -->
        <section class="escape-section">
            <h2 class="escape-title">ESCAPA DE TRON</h2>
            <!-- DESCRIPCIÓN DEL JUEGO ESCAPE ROOM -->
            <p>¿Tienes lo necesario para sobrevivir en el Grid? Demuestra tus habilidades en nuestro escape room interactivo exclusivo para usuarios registrados.</p>
            <!-- BOTÓN PARA ACCEDER AL ESCAPE ROOM (SOLO VISIBLE PARA USUARIOS REGISTRADOS) -->
            <button class="escape-btn" id="escapeBtn">ACCEDER AL ESCAPE ROOM</button>
        </section>
    </main>    
    <!-- PIE DE PÁGINA -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <!-- ENLACES LEGALES Y DE CONTACTO -->
                <a href="#">Política de Privacidad</a>
                <a href="#">Términos de Uso</a>
                <a href="#">Contacto</a>
            </div>
            <!-- INFORMACIÓN DE COPYRIGHT Y DERECHOS -->
            <p>TRON Encyclopedia &copy; 2023 - Todos los derechos reservados</p>
            <p>TRON es una marca registrada de Disney Enterprises, Inc.</p>
        </div>
    </footer>

    <script>
        // VERIFICACIÓN DE CLAVE DE ACCESO Y REDIRECCIÓN SI ES NECESARIO
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar si existe la clave en la URL
            const urlParams = new URLSearchParams(window.location.search);
            const key = urlParams.get('key');
            
            // Clave válida para acceder al sitio
            const validKey = 'universeEnter';
            
            // Si no hay clave o es incorrecta, redirigir a página de acceso denegado
            if (!key || key !== validKey) {
                window.location.href = 'acceso-denegado.html';
                return;
            }            
            // Si la clave es válida, guardar en sessionStorage para la sesión
            sessionStorage.setItem('tronAccessKey', key);
        
            // CONFIGURACIÓN DEL BOTÓN DEL ESCAPE ROOM
            const escapeBtn = document.getElementById('escapeBtn');
            escapeBtn.addEventListener('click', function() {
                // Verificar si el usuario está registrado (aquí simulamos con localStorage)
                const userRegistered = localStorage.getItem('userRegistered');
                
                if (userRegistered) {
                    window.location.href = 'escapeoftron.html';
                } else {
                    alert('Para acceder al Escape Room necesitas registrarte primero.');
                    // Redirigir a acceso-registro.html o mostrar un formulario de registro
                    window.location.href = 'acceso-registro.html';
                }
            });
        });
    </script>
</body>
</html>
